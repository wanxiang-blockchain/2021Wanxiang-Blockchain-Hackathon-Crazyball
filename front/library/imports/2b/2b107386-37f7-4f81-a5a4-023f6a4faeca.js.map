{"version":3,"sources":["assets/src/game/common/CommonLabelScroll.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { Tween } from \"../../common/tween/Tween\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class CommonLabelScroll extends cc.Component {\n    @property(cc.Label)\n    lb_num: cc.Label = null;\n\n    private _num = { value: 0 };\n\n    onEnable() {\n        if (!this.lb_num) {\n            this.lb_num = this.node.getComponent(cc.Label);\n        }\n        this.initValue(this._num.value);\n    }\n\n    initValue(value: number) {\n        this._num.value = value;\n        if (this.lb_num)\n            this.lb_num.string = `${Math.ceil(this._num.value)}`;\n    }\n\n    updateValue(newValue: number, oldValue?: number) {\n        if (oldValue != void 0) {\n            this.initValue(oldValue);\n        }\n        if (!this.lb_num) {\n            this._num.value = newValue;\n            return;\n        }\n\n        Tween.removeTweens(this._num)\n        if (newValue < this._num.value) {\n            if (newValue == this._num.value) {\n                this._num.value = newValue;\n                this.lb_num.string = `${newValue}`;\n            } else {\n                Tween.get(this._num, {\n                    onChange: () => {\n                        this.lb_num.string = `${Math.ceil(this._num.value)}`;\n                    }\n                }).to({ value: newValue }, 1500);\n            }\n        } else {\n            const offset_num = newValue - this._num.value;\n            Tween.get(this._num, {\n                onChange: () => {\n                    this.lb_num.string = `${Math.ceil(this._num.value)}`;\n                }\n            }).to({ value: newValue }, 300 + (offset_num > 10 ? 700 : 0) + (offset_num > 100 ? 500 : 0) + (offset_num > 1000 ? 500 : 0));\n        }\n    }\n\n    onDisable() {\n        Tween.removeTweens(this._num);\n    }\n}"]}