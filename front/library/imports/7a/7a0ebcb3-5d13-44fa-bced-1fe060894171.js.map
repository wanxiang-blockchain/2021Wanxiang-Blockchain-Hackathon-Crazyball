{"version":3,"sources":["assets/src/game/StoreItem.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import { formatPrice } from './common/Common';\nimport State from './model/State';\n\nconst { ccclass, property } = cc._decorator;\n@ccclass\nexport default class StoreItem extends cc.Component {\n  @property(cc.Node)\n  listBox: cc.Node = null;\n  @property(cc.Sprite)\n  listBoxBg: cc.Sprite = null;\n  @property(cc.Sprite)\n  icon: cc.Sprite = null;\n  @property(cc.Label)\n  title: cc.Label = null;\n  @property(cc.Node)\n  submitButton: cc.Node = null;\n  @property(cc.Sprite)\n  submitButtonBg: cc.Sprite = null;\n  @property(cc.Label)\n  submitTitle: cc.Label = null;\n\n  @property(cc.Prefab)\n  storePay: cc.Prefab = null;\n\n  boxObj = {};\n\n  onLoad() {\n    this.submitButton.on('touchstart', this.onSubmitButton, this);\n  }\n\n  setImage(target, url: string) {\n    cc.resources.load(url, cc.SpriteFrame, (err, spriteFrame: cc.SpriteFrame) => {\n      target.spriteFrame = spriteFrame;\n    });\n  }\n\n  initBox(obj) {\n    this.boxObj = obj;\n    this.setImage(this.icon, obj.url);\n    this.title.string = obj.title;\n    this.submitTitle.string = formatPrice(obj.price, 2, true) + ' Near';\n  }\n\n  onListBox() {\n    this.setImage(this.listBoxBg, 'images/b2');\n    this.setImage(this.submitButtonBg, 'images/c2');\n    this.submitTitle.node.color = cc.Color.WHITE;\n  }\n\n  onListBoxOver() {\n    this.setImage(this.listBoxBg, 'images/b1');\n    this.setImage(this.submitButtonBg, 'images/c1');\n    this.submitTitle.node.color = cc.color(255, 217, 79);\n  }\n\n  private onSubmitButton() {\n    State.ins().storePayBox = cc.instantiate(this.storePay);\n    let scene = cc.director.getScene();\n    scene.getChildByName('Canvas').addChild(State.ins().storePayBox);\n    State.ins().storePayBox.getComponent('StorePay').initBox(this.boxObj);\n  }\n}\n"]}